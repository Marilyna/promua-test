# Library catalog


## Установка и запуск

В консоли выполнить команды:

```console
  > make env
  > make db
  > make run
```

  
## Описание

### Поиск (Search)

Поиск происходит по простому алгоритму типа ```ilike``` по текстовым полям в записях базы.
Для поиска по нескольким словам, они должны быть разделены пробелом. Например поиск ```term1 term2``` вернет сумму результатов по поиску ```term1``` и ```term2```


### Книги (Edit)

#### Добавление

Заполнить поля ```Author``` и ```Title```. Для добавления нескольких авторов - кликнуть на "+" возле поля автора. Для успешного создания книги, у нее должен быть хоть один автор


#### Удаление

Пометить книги для удаления и нажать кнопку ```Delete``` под таблицей. Если у автора удаленной книги больше нет книг, то он тоже удаляется из базы


#### Редактирование

В строке с книгой нажать кнопку ```Edit```. Название и автора книги будут помещены в поля для редактирования. Для добавления авторов к книге, их имена нужно разделять запятыми. Изменить авторов или название и нажать кнопку ```Save``` справа. Нескольких авторов следует разделять запятыми. Сабмит полей по клавише Enter отключен, книга сохраняется только по кнопке.


### Авторы (Authors)

#### Добавление

Заполнить поле Name непустой строкой


#### Удаление

Пометить авторов для удаления и нажать кнопку ```Delete``` под таблицей. Автора удаляются вместе с их книгами, если у книг нет других неудаленных авторов.


#### Редактирование

В строке с автором нажать кнопку ```Edit```. Имя автора будет помещено в поле для редактирования. Изменить имя автора и нажать кнопку ```Save``` справа. Сабмит поля по клавише ```Enter``` отключен, сохранение только по кнопке.


### Аутентификация

Страницы редактирования книг и авторов доступны только авторизированным пользователям.
Для работы с пользователями используется библиотека ```flask-login```


#### Регистрация

После регистрации новый пользователь авторизируется и преходит на страницу поиска
